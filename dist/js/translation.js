/*! (c) Philipp KÃ¶nig under GPL-3.0 */
"use strict";!function(a){window.TemplateHelper=function(b){this.loading=function(){return a('<div class="loading"> <div>  <div class="circle-clipper left">   <div></div>  </div>  <div class="gap-patch">   <div></div>  </div>  <div class="circle-clipper right">   <div></div>  </div> </div></div>')},this.footer=function(){var b=a('<footer> <a id="copyright" href="https://moonware.de/extensions" target="_blank">  &copy; <span class="created">2016</span>&ensp;<strong>Moonware</strong> </a></footer>'),c=+b.find("span.created").text(),d=(new Date).getFullYear();return d>c&&b.find("span.created").text(c+" - "+d),b}},window.translation=function(){var b=this;this.languages={af:"Afrikaans",ar:"Arabic",hy:"Armenian",be:"Belarusian",bg:"Bulgarian",ca:"Catalan","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",de:"German",el:"Greek",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese"},this.opts={elm:{content:a("section#content"),wrapper:{overview:a("section#content > div[data-name='overview']"),langvars:a("section#content > div[data-name='langvars']")}},classes:{hidden:"hidden",progress:"progress"},ajax:{info:"https://moonware.de/ajax/extensions/bs/i18n/info",langvars:"https://moonware.de/ajax/extensions/bs/i18n/langvars"}},this.run=function(){b.opts.elm.wrapper.langvars.addClass(b.opts.classes.hidden),c(),b.helper.template.footer().insertAfter(b.opts.elm.content);var d=new XMLHttpRequest;d.open("POST",b.opts.ajax.info,!0),d.onload=function(){var c=JSON.parse(d.responseText);if(c&&c.languages){var e=a("<ul />").appendTo(b.opts.elm.wrapper.overview.children("div"));c.languages.unshift({name:"sw",varsAmount:111}),c.languages.unshift({name:"pl",varsAmount:31}),c.languages.unshift({name:"fr",varsAmount:156}),c.languages.unshift({name:"cs",varsAmount:179}),c.languages.sort(function(a,b){return b.varsAmount-a.varsAmount});var f=Object.assign({},b.languages);c.languages.forEach(function(d){if(delete f[d.name],b.languages[d.name]){var g=12*Math.PI*2,h=d.varsAmount/c.varsAmount*100;a("<li />").append("<strong>"+b.languages[d.name]+"</strong>").append("<svg class="+b.opts.classes.progress+" width='32' height='32' viewPort='0 0 16 16'><circle r='12' cx='16' cy='16'></circle><circle r='12' cx='16' cy='16' stroke-dashoffset='"+(100-h)/100*g+"' stroke-dasharray='"+g+"'></circle></svg>").append("<span class='"+b.opts.classes.progress+"'>"+Math.round(d.varsAmount/c.varsAmount*100)+"%</span>").appendTo(e)}});var g=a("<select name='language' />").appendTo(b.opts.elm.wrapper.overview.children("div"));a("<option value='' />").text("Add language").appendTo(g),Object.keys(f).forEach(function(c){a("<option value='"+c+"' />").text(b.languages[c]).appendTo(g)})}},d.send()};var c=function(){b.helper={template:new window.TemplateHelper(b)}}},(new window.translation).run()}(jsu);