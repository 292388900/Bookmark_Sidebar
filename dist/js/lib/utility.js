/*! (c) Philipp KÃ¶nig under GPL-3.0 */
(e=>{"use strict";e.UtilityHelper=function(t){this.openUrl=((e,n="default",o=!0)=>new Promise(i=>{"about:blank"!==e.url&&(t.helper.model.setData({"u/lastOpened":e.id,"u/performReopening":o&&e.reopenSidebar||!1}),"incognito"===n?t.helper.model.call("openLink",{href:e.url,incognito:!0}).then(i):"newWindow"===n?t.helper.model.call("openLink",{href:e.url,newWindow:!0}).then(i):t.helper.model.call("openLink",{parentId:e.parentId,id:e.id,href:e.url,newTab:"newTab"===n,position:t.helper.model.getData("b/newTabPosition"),active:o}).then(i))})),this.openAllBookmarks=(async e=>{let n=t.helper.model.getData("b/newTabPosition");"afterCurrent"!==n&&"beforeFirst"!==n||e.reverse();for(const t of e)await this.openUrl(t,"newTab",!1)}),this.isBackgroundConnected=(()=>{let e=chrome.runtime.connect();return!!e&&(e.disconnect(),!0)}),this.triggerEvent=((t,n={},o=null)=>{(o||document).dispatchEvent(new CustomEvent(e.opts.events[t],{detail:n,bubbles:!0,cancelable:!1}))}),this.copyToClipboard=(n=>{let o=e("<textarea />").text(n).appendTo(t.elm.iframeBody);o[0].select();let i=!1;try{i=t.elm.iframe[0].contentDocument.execCommand("copy")}catch(e){}return o.remove(),i}),this.isUrlOnBlacklist=(e=>{if(!e||0===e.trim().length)return!0;let t=!1;return["about:","https?://192.168.","192.168.","https?://localhost","localhost","https?://127.0.0.","127.0.0.","file://","chrome://","chrome-extension://"].some(n=>{if(0===e.search(new RegExp(n,"gi")))return t=!0,!0}),t}),this.isWindowed=(()=>{return window.screenX>12||window.screenY>12||Math.abs(window.screen.availWidth-window.innerWidth)>12||window.navigator&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent&&window.navigator.userAgent.search(/[/\s-_]mobile[/\s-_]/i)>-1})}})(jsu);