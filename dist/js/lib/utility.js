/*! (c) Philipp KÃ¶nig under GPL-3.0 */
(e=>{"use strict";window.UtilityHelper=function(n){this.openUrl=((e,t="default",o=!0)=>{"about:blank"!==e.url&&(n.helper.model.setData({"u/lastOpened":e.id,"u/performReopening":o&&e.reopenSidebar||!1}),"incognito"===t?n.helper.model.call("openLink",{href:e.url,incognito:!0}):"newWindow"===t?n.helper.model.call("openLink",{href:e.url,newWindow:!0}):n.helper.model.call("openLink",{parentId:e.parentId,id:e.id,href:e.url,newTab:"newTab"===t,position:n.helper.model.getData("b/newTabPosition"),active:o}))}),this.openAllBookmarks=(e=>{n.helper.model.call("trackEvent",{category:"url",action:"open",label:"new_tab_all_children",value:e.length}),"afterCurrent"===n.helper.model.getData("b/newTabPosition")&&e.reverse(),e.forEach(e=>{this.openUrl(e,"newTab",!1)})}),this.isBackgroundConnected=(()=>{let e=chrome.runtime.connect();return!!e&&(e.disconnect(),!0)}),this.triggerEvent=((n,t={},o=null)=>{(o||document).dispatchEvent(new CustomEvent(e.opts.events[n],{detail:t,bubbles:!0,cancelable:!1}))}),this.copyToClipboard=(t=>{let o=e("<textarea />").text(t).appendTo(n.elements.iframeBody);o[0].select();let r=!1;try{r=n.elements.iframe[0].contentDocument.execCommand("copy")}catch(e){}return o.remove(),r}),this.isUrlOnBlacklist=(e=>{if(!e||0===e.trim().length)return!0;let n=!1;return["about:","https?://192.168.","192.168.","https?://localhost","localhost","https?://127.0.0.","127.0.0.","file://","chrome://","chrome-extension://"].some(t=>{if(0===e.search(new RegExp(t,"gi")))return n=!0,!0}),n}),this.isWindowed=(()=>{return window.screenX>12||window.screenY>12||Math.abs(window.screen.availWidth-window.innerWidth)>12||window.navigator&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent&&window.navigator.userAgent.search(/[/\s-_]mobile[/\s-_]/i)>-1})}})(jsu);