/*! (c) Philipp KÃ¶nig under GPL-3.0 */
(e=>{"use strict";window.I18nHelper=function(t){let a=null,g={},l={i18n:"data-i18n",i18nReplaces:"data-i18nReplaces"};this.init=(()=>new Promise(e=>{t.helper.model.call("langvars").then(t=>{a=t.language,g=t.vars,e()})})),this.getLanguage=(()=>a),this.getUILanguage=(()=>chrome.i18n.getUILanguage()),this.getDefaultLanguage=(()=>t.opts.manifest.default_locale),this.getLocaleSortCollator=(()=>new Intl.Collator([this.getUILanguage(),this.getDefaultLanguage()])),this.getLocaleDate=(e=>e.toLocaleDateString([this.getUILanguage(),this.getDefaultLanguage()],{year:"numeric",month:"2-digit",day:"2-digit"})),this.parseHtml=(t=>{e(t).find("["+l.i18n+"]").forEach(t=>{let a=null,g=e(t).attr(l.i18n);if(g){let n=[],i=e(t).attr(l.i18nReplaces);i&&(n=i.split(",")),a=this.get(g,n)}a?(e(t).removeAttr(l.i18n),e(t).html(a)):e(t).remove()})}),this.get=((e,t=[])=>{let a="",l=g[e];return l&&l.message&&(a=l.message,t.forEach((e,t)=>{a=a.replace(new RegExp("\\{"+(t+1)+"\\}"),e)}),a=a.replace(/\[b\](.*)\[\/b\]/,"<strong>$1</strong>"),a=a.replace(/\[a\](.*)\[\/a\]/,"<a href='#'>$1</a>"),a=a.replace(/\[em\](.*)\[\/em\]/,"<em>$1</em>")),a})}})(jsu);