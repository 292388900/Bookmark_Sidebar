/*! (c) Philipp KÃ¶nig under GPL-3.0 */
"use strict";!function(a){window.I18nHelper=function(b){var c=this,d=null,e={},f={i18n:"data-i18n",i18nReplaces:"data-i18nReplaces"};this.init=function(a){b.helper.model.call("languageInfos",function(f){var g=c.getLanguage(),h=c.getDefaultLanguage();[g,h].some(function(c){if(f.infos&&f.infos[c]&&f.infos[c].available)return d=c,b.helper.model.call("langvars",{lang:c,defaultLang:h},function(b){b&&b.langVars&&(e=b.langVars,"function"==typeof a&&a())}),!0})})},this.getLanguage=function(){return d},this.getDefaultLanguage=function(){return b.opts.manifest.default_locale},this.localeCompare=function(a,b){return a.localeCompare(b,[chrome.i18n.getUILanguage(),c.getDefaultLanguage()])},this.getLocaleDate=function(a){return a.toLocaleDateString([chrome.i18n.getUILanguage(),c.getDefaultLanguage()],{year:"numeric",month:"2-digit",day:"2-digit"})},this.parseHtml=function(b){a(b).find("["+f.i18n+"]").forEach(function(b){var d=null,e=a(b).attr(f.i18n);if(e){var g=[],h=a(b).attr(f.i18nReplaces);h&&(g=h.split(",")),d=c.get(e,g)}d?(a(b).removeAttr(f.i18n),a(b).html(d)):a(b).remove()})},this.get=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c="",d=e[a];return d&&d.message&&(c=d.message,b.forEach(function(a,b){c=c.replace(new RegExp("\\{"+(b+1)+"\\}"),a)}),c=c.replace(/\[b\](.*)\[\/b\]/,"<strong>$1</strong>"),c=c.replace(/\[a\](.*)\[\/a\]/,"<a href='#'>$1</a>"),c=c.replace(/\[em\](.*)\[\/em\]/,"<em>$1</em>")),c}}}(jsu);