/*! (c) Philipp KÃ¶nig under GPL-3.0 */
(e=>{"use strict";e.StylesheetHelper=function(t){let l={},s="";this.init=(()=>{l=t.helper.model.getData("a/styles"),s=t.helper.model.getData("u/customCss")}),this.addStylesheets=((a,n=null)=>{null===n?n=e(document):(t.helper.font.addStylesheet(n),e.cl&&e.cl.page&&!1===t.helper.model.getData("b/animations")&&e.cl.page.noAnimations&&n.find("body").addClass(e.cl.page.noAnimations));let c=null;c=0===n.find("head").length()?n.find("body"):n.find("head"),a.forEach(t=>{e.xhr(chrome.extension.getURL("css/"+t+".css")).then(a=>{if(a.response){let n=a.response;n+=s,Object.keys(l).forEach(e=>{n=n.replace(new RegExp('"?%'+e+'"?',"g"),l[e])}),e.cl&&e.cl.page&&e.cl.page.style&&e.attr&&e.attr.name?(c.find("style."+e.cl.page.style+"["+e.attr.name+"='"+t+"']").remove(),c.append("<style class='"+e.cl.page.style+"' "+e.attr.name+"='"+t+"'>"+n+"</style>")):c.append("<style>"+n+"</style>")}})})})}})(jsu);