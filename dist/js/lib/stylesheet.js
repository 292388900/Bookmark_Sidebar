/*! (c) Philipp KÃ¶nig under GPL-3.0 */
(e=>{"use strict";window.StylesheetHelper=function(s){let t={},a="";this.init=(()=>{t=s.helper.model.getData("a/styles"),a=s.helper.model.getData("u/customCss")}),this.addStylesheets=((l,o=null)=>{null===o?o=e(document):(s.helper.font.addStylesheet(o),s.opts.classes&&s.opts.classes.page&&!1===s.helper.model.getData("b/animations")&&s.opts.classes.page.noAnimations&&o.find("body").addClass(s.opts.classes.page.noAnimations));let n=null;n=0===o.find("head").length()?o.find("body"):o.find("head"),l.forEach(l=>{e.xhr(chrome.extension.getURL("css/"+l+".css")).then(e=>{if(e.response){let o=e.response;o+=a,Object.keys(t).forEach(e=>{o=o.replace(new RegExp('"?%'+e+'"?',"g"),t[e])}),s.opts.classes&&s.opts.classes.page&&s.opts.classes.page.style&&s.opts.attr&&s.opts.attr.name?(n.find("style."+s.opts.classes.page.style+"["+s.opts.attr.name+"='"+l+"']").remove(),n.append("<style class='"+s.opts.classes.page.style+"' "+s.opts.attr.name+"='"+l+"'>"+o+"</style>")):n.append("<style>"+o+"</style>")}})})})}})(jsu);