/*! (c) Philipp KÃ¶nig under GPL-3.0 */
(e=>{"use strict";window.StylesheetHelper=function(t){let l={},s="";this.init=(()=>{l=t.helper.model.getData("a/styles"),s=t.helper.model.getData("u/customCss")}),this.addStylesheets=((a,n=null)=>{null===n?n=e(document):(t.helper.font.addStylesheet(n),t.cl&&t.cl.page&&!1===t.helper.model.getData("b/animations")&&t.cl.page.noAnimations&&n.find("body").addClass(t.cl.page.noAnimations));let d=null;d=0===n.find("head").length()?n.find("body"):n.find("head"),a.forEach(a=>{e.xhr(chrome.extension.getURL("css/"+a+".css")).then(e=>{if(e.response){let n=e.response;n+=s,Object.keys(l).forEach(e=>{n=n.replace(new RegExp('"?%'+e+'"?',"g"),l[e])}),t.cl&&t.cl.page&&t.cl.page.style&&t.attr&&t.attr.name?(d.find("style."+t.cl.page.style+"["+t.attr.name+"='"+a+"']").remove(),d.append("<style class='"+t.cl.page.style+"' "+t.attr.name+"='"+a+"'>"+n+"</style>")):d.append("<style>"+n+"</style>")}})})})}})(jsu);