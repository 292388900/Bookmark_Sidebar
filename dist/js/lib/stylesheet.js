/*! (c) Philipp KÃ¶nig under GPL-3.0 */
"use strict";!function(s){window.StylesheetHelper=function(e){var t={};this.init=function(){t=e.helper.model.getData("a/styles")},this.addStylesheets=function(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n?n=s(document):(e.helper.font.addStylesheet(n),e.opts.classes&&e.opts.classes.page&&(t.isEE&&e.opts.classes.page.ee&&n.find("body").addClass(e.opts.classes.page.ee),!1===e.helper.model.getData("b/animations")&&e.opts.classes.page.noAnimations&&n.find("body").addClass(e.opts.classes.page.noAnimations)));var o=null;o=0===n.find("head").length()?n.find("body"):n.find("head"),a.forEach(function(s){var a=new XMLHttpRequest;a.open("GET",chrome.extension.getURL("css/"+s+".css"),!0),a.onload=function(){if(a.response){var n=a.response;Object.keys(t).forEach(function(s){n=n.replace(new RegExp('"?%'+s+'"?',"g"),t[s])}),e.opts.classes&&e.opts.classes.page&&e.opts.classes.style&&e.opts.attr&&e.opts.attr.name?(o.find("style."+e.opts.classes.page.style+"["+e.opts.attr.name+"='"+s+"]").remove(),o.append("<style class='"+e.opts.classes.page.style+"' "+e.opts.attr.name+"='"+s+"'>"+n+"</style>")):o.append("<style>"+n+"</style>")}},a.send()})}}}(jsu);