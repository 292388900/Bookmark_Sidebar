/*! (c) Philipp KÃ¶nig under GPL-3.0 */
!(s=>{"use strict";window.StylesheetHelper=function(e){let t={};this.init=(()=>{t=e.helper.model.getData("a/styles")}),this.addStylesheets=((a,l=null)=>{null===l?l=s(document):(e.helper.font.addStylesheet(l),e.opts.classes&&e.opts.classes.page&&(t.isEE&&e.opts.classes.page.ee&&l.find("body").addClass(e.opts.classes.page.ee),!1===e.helper.model.getData("b/animations")&&e.opts.classes.page.noAnimations&&l.find("body").addClass(e.opts.classes.page.noAnimations)));let o=null;o=0===l.find("head").length()?l.find("body"):l.find("head"),a.forEach(s=>{let a=new XMLHttpRequest;a.open("GET",chrome.extension.getURL("css/"+s+".css"),!0),a.onload=(()=>{if(a.response){let l=a.response;Object.keys(t).forEach(s=>{l=l.replace(new RegExp('"?%'+s+'"?',"g"),t[s])}),e.opts.classes&&e.opts.classes.page&&e.opts.classes.style&&e.opts.attr&&e.opts.attr.name?(o.find("style."+e.opts.classes.page.style+"["+e.opts.attr.name+"='"+s+"]").remove(),o.append("<style class='"+e.opts.classes.page.style+"' "+e.opts.attr.name+"='"+s+"'>"+l+"</style>")):o.append("<style>"+l+"</style>")}}),a.send()})})}})(jsu);