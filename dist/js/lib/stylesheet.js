/*! (c) Philipp KÃ¶nig under GPL-3.0 */
(e=>{"use strict";e.StylesheetHelper=function(t){let l={},a="";this.init=(e=>{let s=!1;e&&e.defaultVal&&!0===e.defaultVal&&(s=!0),l=t.helper.model.getData("a/styles",s),a=t.helper.model.getData("u/customCss")}),this.addStylesheets=((s,n=null)=>{null===n?n=e(document):(t.helper.font.addStylesheet(n),e.cl&&e.cl.page&&!1===t.helper.model.getData("b/animations")&&e.cl.page.noAnimations&&n.find("body").addClass(e.cl.page.noAnimations));let d=null;d=0===n.find("head").length()?n.find("body"):n.find("head"),s.forEach(t=>{e.xhr(chrome.extension.getURL("css/"+t+".css")).then(s=>{if(s.response){let n=s.response;n+=a,Object.keys(l).forEach(e=>{n=n.replace(new RegExp('"?%'+e+'"?',"g"),l[e])}),e.cl&&e.cl.page&&e.cl.page.style&&e.attr&&e.attr.name?(d.find("style."+e.cl.page.style+"["+e.attr.name+"='"+t+"']").remove(),d.append("<style class='"+e.cl.page.style+"' "+e.attr.name+"='"+t+"'>"+n+"</style>")):d.append("<style>"+n+"</style>")}})})})}})(jsu);