/*! (c) Philipp KÃ¶nig under GPL-3.0 */
"use strict";!function(a){window.ModelHelper=function(a){var b=this,c={__default:{Thin:100,ExtraLight:200,Light:300,Normal:400,Medium:500,SemiBold:600,Bold:700,ExtraBold:800,Black:900},Roboto:{Thin:100,ExtraLight:100,Light:200,Normal:300,Medium:400,SemiBold:400,Bold:500,ExtraBold:500,Black:500}},d={u:{openStates:{},hiddenEntries:{},scrollPos:{},entriesLocked:!0,sort:{name:"custom",dir:"ASC"},mostViewedPerMonth:!1,viewAsTree:!0},b:{pxTolerance:{windowed:20,maximized:1},scrollSensitivity:{mouse:1,trackpad:1},openAction:"mousedown",newTab:"foreground",linkAction:"current",dirAccordion:!1,rememberState:"all",rememberSearch:!0,dirOpenDuration:.5,openDelay:0,closeTimeout:1},a:{sidebarPosition:"left",language:"default",showIndicator:!0,showBookmarkIcons:!0,styles:{colorScheme:"rgb(0,137,123)",textColor:"rgb(102,102,102)",indicatorWidth:"50px",indicatorIconSize:"40px",indicatorIconColor:"rgb(255,255,255)",indicatorColor:"rgba(0,0,0,0.5)",sidebarWidth:"350px",sidebarMaskColor:"rgba(255,255,255,0.8)",bookmarksFontSize:"14px",bookmarksIconSize:"16px",bookmarksLineHeight:"40px",bookmarksDirIcon:"dir-1",bookmarksDirColor:"rgb(102,102,102)",bookmarksDirIndentation:"25px",bookmarksHorizontalPadding:"16px",overlayMaskColor:"rgba(0,0,0,0.5)",fontFamily:"Roboto"}}},e={};this.init=function(a){var b=["utility","behaviour","appearance"];chrome.storage.sync.get(b,function(c){e=c,b.forEach(function(a){void 0===e[a]&&(e[a]={})}),"function"==typeof a&&a()})},this.getFontWeights=function(a){var b={};return Object.keys(c.__default).forEach(function(d){var e=c.__default[d];c[a]&&c[a][d]&&(e=c[a][d]),b["fontWeight"+d]=e}),b},this.getData=function(a){var c=a;"string"==typeof c&&(c=[c]);var f={};if(c.forEach(function(a){var c=a.split("/")[0],g=a.split("/")[1],h=null,i=null;switch(c){case"u":i=e.utility;break;case"b":i=e.behaviour;break;case"a":i=e.appearance}null!==i&&(void 0===i[g]?"rememberState"===g&&void 0!==i.rememberScroll?h=!1===i.rememberScroll?"openStates":"all":void 0!==d[c]&&void 0!==d[c][g]&&(h=d[c][g]):h=i[g]),"a/styles"===a&&(h=Object.assign({},d.a.styles,h),Object.assign(h,b.getFontWeights(h.fontFamily))),"a/showIndicator"===a&&!0===h&&void 0!==e.behaviour.openAction&&"mousemove"===e.behaviour.openAction&&(h=!1),f[g]=h}),"string"==typeof a){var g=a.split("/")[1];f=f[g]}return f},this.setData=function(a,c){b.init(function(){Object.keys(a).forEach(function(b){var c=b.split("/")[0],d=b.split("/")[1],f=a[b];switch(c){case"u":e.utility[d]=f,e.utility;break;case"b":e.behaviour[d]=f;break;case"a":e.appearance[d]=f}});try{chrome.storage.sync.set(e,function(){"function"==typeof c&&c()})}catch(a){"function"==typeof c&&c()}})},this.call=function(a,b,c){"function"==typeof b&&(c=b,b={}),b.type=a,chrome.extension.sendMessage(b,function(a){"function"==typeof c&&c(a)})}}}(jsu);